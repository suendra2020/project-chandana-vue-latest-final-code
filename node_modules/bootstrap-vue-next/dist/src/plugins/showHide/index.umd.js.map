{"version":3,"file":"index.umd.js","sources":["../../../../src/plugins/showHide/index.ts"],"sourcesContent":["import {type Plugin, readonly, ref, type Ref} from 'vue'\nimport {\n  globalShowHideStorageInjectionKey,\n  type RegisterShowHideFnInput,\n  type RegisterShowHideMapValue,\n} from '../../utils/keys'\n\nexport const showHidePlugin: Plugin = {\n  install(app) {\n    const values: Ref<Map<string, RegisterShowHideMapValue>> = ref(new Map())\n\n    const register = ({\n      id,\n      component,\n      value,\n      toggle,\n      show,\n      hide,\n      registerTrigger,\n      unregisterTrigger,\n    }: RegisterShowHideFnInput) => {\n      values.value.set(id, {\n        id,\n        component,\n        value: readonly(value),\n        toggle,\n        show,\n        hide,\n        registerTrigger,\n        unregisterTrigger,\n      })\n      return {\n        unregister() {\n          // delete values.value[id]\n          values.value.delete(id)\n        },\n        updateId(newId: string, oldId: string) {\n          const existingValue = values.value.get(oldId)\n          if (existingValue) {\n            values.value.set(newId, {...existingValue, id: newId})\n            values.value.delete(oldId)\n          }\n        },\n      }\n    }\n\n    app.provide(globalShowHideStorageInjectionKey, {register, values})\n  },\n}\n"],"names":["showHidePlugin","install","app","values","ref","Map","provide","globalShowHideStorageInjectionKey","register","id","component","value","toggle","show","hide","registerTrigger","unregisterTrigger","set","readonly","unregister","delete","updateId","newId","oldId","existingValue","get"],"mappings":"8IAOaA,EAAyB,CACpC,OAAAC,CAAQC,GACN,MAAMC,EAAqDC,EAAAA,IAAQ,IAAAC,KAqCnEH,EAAII,QAAQC,EAAAA,kCAAmC,CAACC,SAnC/B,EACfC,KACAC,YACAC,QACAC,SACAC,OACAC,OACAC,kBACAC,wBAEOb,EAAAQ,MAAMM,IAAIR,EAAI,CACnBA,KACAC,YACAC,MAAOO,WAASP,GAChBC,SACAC,OACAC,OACAC,kBACAC,sBAEK,CACL,UAAAG,GAEShB,EAAAQ,MAAMS,OAAOX,EACtB,EACA,QAAAY,CAASC,EAAeC,GACtB,MAAMC,EAAgBrB,EAAOQ,MAAMc,IAAIF,GACnCC,IACKrB,EAAAQ,MAAMM,IAAIK,EAAO,IAAIE,EAAef,GAAIa,IACxCnB,EAAAQ,MAAMS,OAAOG,GACtB,IAKoDpB,UAAO"}